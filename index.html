<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta 
      name="viewport" 
      content="width=device-width, initial-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>QTLs – Rodriguez Lab</title>
    <link rel="shortcut icon" href="favicon.ico" />
  </head>
  <body>
    <main>
      <h1><a href="https://oscarlr.github.io/">Rodriguez Lab</a>'s QTLs</h1>
      <p>
        Check out the
        <a href="https://github.com/a-pinch-ofsalt/qtl-site">GitHub repository</a>
        to add data!
      </p>
    </main>

    <label for="snpInput">SNP ID</label>
    <input id="snpInput" list="snp-list" placeholder="1027214" />
    <datalist id="snp-list"></datalist>

    <label for="geneInput">Gene</label>
    <input id="geneInput" list="gene-list" placeholder="IGHV3-64" />
    <datalist id="gene-list"></datalist>

    <section id="neo4j-section" style="margin:2em 0">
      <h2>Interactive Graph</h2>
      <div
        id="neo4j-viz"
        style="width:100%; height:400px; border:1px solid #ccc"
      ></div>

      <h3>Read‑Only Cypher Console</h3>
      <textarea
        id="cypherInput"
        rows="2"
        style="width:100%; font-family:monospace"
        placeholder="e.g. MATCH (g:Gene)-[r]->(s:SNP) RETURN g,r,s LIMIT 25"
      ></textarea>
      <button id="runCypher">Run</button>
      <pre
        id="cypherResult"
        style="
          background:#f9f9f9;
          padding:0.5em;
          max-height:200px;
          overflow:auto;
        "
      ></pre>
    </section>

    <button id="searchButton">Search</button>
    <button id="clearPlots" style="margin-top:1em;">Clear Plots</button>
    <div
      id="plots"
      style="
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        grid-gap: 1em;
        margin-top: 1em;
      "
    ></div>

    <section id="accordions" style="margin-top:1em;">
      <details>
        <summary>M_all_rank</summary>
        <div class="manhattan-holder"></div>
        <div class="table-panel" data-table="M_all_rank"></div>
      </details>

      <details>
        <summary>G_all_rank</summary>
        <div class="manhattan-holder"></div>
        <div class="table-panel" data-table="G_all_rank"></div>
      </details>

      <details>
        <summary>final_qtls_noIGKV1-13DEL</summary>
        <div class="manhattan-holder"></div>
        <div
          class="table-panel"
          data-table="final_qtls_noIGKV1-13DEL"
        ></div>
      </details>

      <details>
        <summary>K_L_guQTL_cleaned</summary>
        <div class="manhattan-holder"></div>
        <div
          class="table-panel"
          data-table="K_L_guQTL_cleaned"
        ></div>
      </details>
    </section>

    <!-- Load the bundled script (generated by your bundler) -->
    <script type="module" src="./main.js"></script>
  </body>
</html>
